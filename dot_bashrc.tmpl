{{- if ne .chezmoi.os "windows" -}}
#!/bin/bash
# ~/.bashrc - Bash configuration

# Source global definitions (Debian/Ubuntu)
if [ -f /etc/bash.bashrc ]; then
    . /etc/bash.bashrc
fi

# Source Ansible-managed environment
if [ -f "$HOME/.config/ansible_generated/common.bash" ]; then
    . "$HOME/.config/ansible_generated/common.bash"
fi

# Common aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias ..='cd ..'
alias ...='cd ../..'
alias grep='grep --color=auto'

# Git aliases
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git log --oneline'
alias gd='git diff'

# Safety aliases
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

# Custom functions
mkcd() {
    mkdir -p "$1" && cd "$1"
}

# Source local overrides if they exist
if [ -f "$HOME/.bashrc.local" ]; then
    . "$HOME/.bashrc.local"
fi
{{- end -}}