# env.nu
# Nushell Environment Configuration

{{- if ne .chezmoi.os "windows" }}
# Source Ansible-managed environment
source-env ~/.config/ansible_generated/common.nu
{{- end }}

# Starship prompt initialization
# This needs to be in env.nu for proper setup
$env.STARSHIP_SHELL = "nu"
{{- if eq .chezmoi.os "windows" }}
mkdir ~\.cache\starship
starship init nu | save -f ~\.cache\starship\init.nu
{{- else }}
mkdir ~/.cache/starship
starship init nu | save -f ~/.cache/starship/init.nu
{{- end }}